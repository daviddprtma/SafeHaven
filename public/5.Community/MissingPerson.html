<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Safe Haven - Missing Persons</title>
<link rel="icon" href="../../assets/1.HomePage/favicon.ico" type="image/x-icon">

<style>
    /* ====== RESET & BODY ====== */
    * { box-sizing: border-box; margin:0; padding:0; font-family: 'Arial', sans-serif; }
    body { background: #f4f6f9; color: #333; }

    /* ====== HEADER ====== */
    header {
        background: linear-gradient(135deg, #0052cc, #003d99);
        color: #fff;
        padding: 30px 20px;
        text-align: center;
        font-size: 28px;
        font-weight: bold;
        box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }
    header p {
        font-size: 16px;
        font-weight: normal;
        margin-top: 5px;
    }

    /* ====== SEARCH & FILTER ====== */
    .search-container {
        display: flex;
        justify-content: center;
        margin: 20px 0;
        gap: 10px;
        flex-wrap: wrap;
    }
    .search-container input {
        padding: 12px 15px;
        width: 300px;
        border-radius: 25px;
        border: 1px solid #ccc;
        font-size: 15px;
        transition: 0.3s;
    }
    .search-container input:focus {
        outline: none;
        border-color: #007BFF;
        box-shadow: 0 0 5px rgba(0,123,255,0.4);
    }

    /* ====== MISSING PERSONS GRID ====== */
    .missing-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto 40px;
    }

    .missing-item {
        background: #fff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column;
        transition: transform 0.2s, box-shadow 0.2s;
    }
    .missing-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    .missing-item img {
        width: 100%;
        height: 220px;
        object-fit: cover;
    }
    .missing-content {
        padding: 15px;
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }
    .missing-content p {
        font-size: 14px;
        margin-bottom: 10px;
        line-height: 1.4;
    }
    .status {
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: bold;
        display: inline-block;
        color: #fff;
    }
    .status.missing { background-color: #dc3545; }
    .status.found { background-color: #28a745; }
    .mark-found-btn {
        background-color: #0052cc;
        color: #fff;
        border: none;
        padding: 7px 12px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 13px;
        transition: 0.2s;
    }
    .mark-found-btn:hover { background-color: #0056b3; }

    /* ====== FORM ====== */
    .form-container {
        background: #fff;
        max-width: 500px;
        margin: 0 auto 40px;
        padding: 25px;
        border-radius: 12px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.15);
    }
    .form-container h3 {
        text-align: center;
        margin-bottom: 20px;
        color: #0052cc;
    }
    .form-container input,
    .form-container select,
    .form-container button {
        width: 100%;
        padding: 12px 15px;
        margin-bottom: 15px;
        font-size: 15px;
        border-radius: 25px;
        border: 1px solid #ccc;
    }
    .form-container button {
        background-color: #28a745;
        color: #fff;
        border: none;
        cursor: pointer;
        transition: 0.3s;
    }
    .form-container button:hover {
        background-color: #218838;
    }

    /* ====== RESPONSIVE ====== */
    @media(max-width:600px){
        .search-container input { width: 90%; }
    }
    /* ====== MAIN LAYOUT ====== */
.main-layout {
    display: flex;
    min-height: 100vh;
}

/* ====== SIDEBAR ====== */
.sidebar {
    width: 320px;
    background: #ffffff;
    padding: 20px;
    box-shadow: 3px 0 10px rgba(0,0,0,0.05);
    position: sticky;
    top: 0;
    height: 100vh;
    overflow-y: auto;
}

/* ====== CONTENT AREA ====== */
.content-area {
    flex: 1;
    padding: 20px;
}

/* Fix grid spacing issue */
.missing-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    max-width: 1200px;
    margin: 0 auto;
}

/* Ensure card width doesn't stretch */
.missing-item {
    width: 100%;
}

/* ====== RESPONSIVE ====== */
@media(max-width: 900px) {
    .main-layout {
        flex-direction: column;
    }

    .sidebar {
        width: 100%;
        height: auto;
        position: relative;
    }
}

</style>
</head>
<body>
<header>
    Missing Persons
    <p>Locate and report missing people during disasters. Mark someone as found or search by name/location.</p>
</header>

<div class="main-layout">

    <!-- ===== LEFT SIDEBAR FORM ===== -->
    <aside class="sidebar">
        <div class="form-container">
            <h3>Report a Missing Person</h3>
            <input type="text" id="name" placeholder="Full Name">
            <input type="number" id="age" placeholder="Age">
            <input type="text" id="location" placeholder="Last Seen Location">
            <select id="status">
                <option value="missing">Missing</option>
                <option value="found">Found</option>
            </select>
            <input type="file" id="imageUpload">
            <button onclick="addMissingPerson()">Submit Report</button>
        </div>
    </aside>

    <!-- ===== RIGHT CONTENT AREA ===== -->
    <section class="content-area">

        <!-- SEARCH -->
        <div class="search-container">
            <input type="text" id="searchInput"
                placeholder="Search by name, location or age..."
                oninput="searchMissing()">
        </div>

        <!-- GRID -->
        <div class="missing-container" id="missing-list"></div>

    </section>
</div>


<script>
let missingPeople = [
    {
        name: "Rahul Sharma",
        age: 28,
        location: "Uttarakhand, India",
        img: "https://randomuser.me/api/portraits/men/32.jpg",
        status: "missing",
        lastSeen: "Rishikesh Riverbank"
    },
    {
        name: "Aisha Khan",
        age: 35,
        location: "Kerala, India",
        img: "https://randomuser.me/api/portraits/women/45.jpg",
        status: "missing",
        lastSeen: "Kochi Beach"
    },
   
    {
        name: "Meera Patel",
        age: 22,
        location: "Gujarat, India",
        img: "https://randomuser.me/api/portraits/women/68.jpg",
        status: "missing",
        lastSeen: "Ahmedabad City Center"
    },
    {
        name: "Rohit Verma",
        age: 40,
        location: "Maharashtra, India",
        img: "https://randomuser.me/api/portraits/men/77.jpg",
        status: "missing",
        lastSeen: "Pune Bus Station"
    },
    {
        name: "Sneha Reddy",
        age: 30,
        location: "Telangana, India",
        img: "https://randomuser.me/api/portraits/women/12.jpg",
        status: "missing",
        lastSeen: "Hyderabad Market"
    },
    {
        name: "Arjun Kumar",
        age: 17,
        location: "Bihar, India",
        img: "https://randomuser.me/api/portraits/men/23.jpg",
        status: "missing",
        lastSeen: "Patna Railway Station"
    },
    
    {
        name: "Anil Mehta",
        age: 50,
        location: "Delhi, India",
        img: "https://randomuser.me/api/portraits/men/55.jpg",
        status: "missing",
        lastSeen: "Connaught Place"
    },
    {
        name: "Divya Sharma",
        age: 27,
        location: "Karnataka, India",
        img: "https://randomuser.me/api/portraits/women/22.jpg",
        status: "missing",
        lastSeen: "Bangalore City Metro"
    }
];


// ====== MARK AS FOUND ======
function markFound(index){
    missingPeople[index].status = "found";
    renderMissing();
}
function renderMissing(filteredList = missingPeople) {
    const container = document.getElementById("missing-list");
    container.innerHTML = "";

    filteredList.forEach((person, index) => {
        const card = document.createElement("div");
        card.classList.add("missing-item");

        card.innerHTML = `
            <img src="${person.img}" alt="${person.name}">
            <div class="missing-content">
                <p>
                    <strong>${person.name}</strong><br>
                    Age: ${person.age}<br>
                    Location: ${person.location}
                </p>
                <div style="display:flex;justify-content:space-between;align-items:center;">
                    <span class="status ${person.status}">
                        ${person.status.toUpperCase()}
                    </span>
                    ${person.status === "missing"
                        ? `<button class="mark-found-btn" onclick="markFound(${missingPeople.indexOf(person)})">Mark as Found</button>`
                        : ""}
                </div>
            </div>
        `;
        container.appendChild(card);
    });
}

function searchMissing() {
    const query = document.getElementById("searchInput").value.toLowerCase();

    const filtered = missingPeople.filter(person =>
        person.name.toLowerCase().includes(query) ||
        person.location.toLowerCase().includes(query) ||
        person.age.toString().includes(query)
    );

    renderMissing(filtered);
}


// ====== ADD NEW MISSING PERSON ======
function addMissingPerson() {
    const name = document.getElementById("name").value;
    const age = document.getElementById("age").value;
    const location = document.getElementById("location").value;
    const status = document.getElementById("status").value;
    const imageUpload = document.getElementById("imageUpload").files[0];

    if(!name || !age || !location || !imageUpload){
        alert("Please fill all fields and upload an image!");
        return;
    }

    const reader = new FileReader();
    reader.onload = function(e){
        missingPeople.push({
            name: name,
            age: age,
            location: location,
            img: e.target.result,
            status: status
        });
        renderMissing();
    }
    reader.readAsDataURL(imageUpload);

    document.getElementById("name").value = "";
    document.getElementById("age").value = "";
    document.getElementById("location").value = "";
    document.getElementById("imageUpload").value = "";
}

// Initial render
renderMissing();
</script>


</body>
</html>
